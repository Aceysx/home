!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define("ReactMarkdownEditor",["react","react-dom"],e):"object"==typeof exports?exports.ReactMarkdownEditor=e(require("react"),require("react-dom")):t.ReactMarkdownEditor=e(t._,t._)}(this,function(t,e){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=24)}([function(t,e,n){var r=n(36);r.connect=n(38),r.connectFilter=n(39),r.ListenerMixin=n(11),r.listenTo=n(40),r.listenToMany=n(41),t.exports=r},function(t,e,n){"use strict";function r(t){return t.charAt(0).toUpperCase()+t.slice(1)}function i(t,n){return(n=n||"on")+e.capitalize(t)}function o(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function s(t){if(!o(t))return t;for(var e,n,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(n in e)if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,s)}else t[n]=e[n]}return t}function a(t){return"function"==typeof t}function l(t,e){for(var n={},r=0;r<t.length;r++)n[t[r]]=e[r];return n}function c(t){return"object"==typeof t&&"callee"in t&&"number"==typeof t.length}function u(t,e){if(t)throw Error(e||t)}Object.defineProperty(e,"__esModule",{value:!0}),e.capitalize=r,e.callbackName=i,e.isObject=o,e.extend=s,e.isFunction=a,e.object=l,e.isArguments=c,e.throwIf=u,e.EventEmitter=n(31),e.nextTick=function(t){setTimeout(t,0)}},function(t,e,n){"use strict";var r=n(1),i=n(21).instanceJoinCreator,o=function(t){for(var e,n=0,r={};n<(t.children||[]).length;++n)e=t.children[n],t[e]&&(r[e]=t[e]);return r},s=function t(e){var n={};for(var i in e){var s=e[i],a=o(s),l=t(a);n[i]=s;for(var c in l){var u=l[c];n[i+r.capitalize(c)]=u}}return n};t.exports={hasListener:function(t){for(var e,n,r,i=0;i<(this.subscriptions||[]).length;++i)for(r=[].concat(this.subscriptions[i].listenable),e=0;e<r.length;e++)if((n=r[e])===t||n.hasListener&&n.hasListener(t))return!0;return!1},listenToMany:function(t){var e=s(t);for(var n in e){var i=r.callbackName(n),o=this[i]?i:this[n]?n:void 0;o&&this.listenTo(e[n],o,this[i+"Default"]||this[o+"Default"]||o)}},validateListening:function(t){return t===this?"Listener is not able to listen to itself":r.isFunction(t.listen)?t.hasListener&&t.hasListener(this)?"Listener cannot listen to this listenable because of circular loop":void 0:t+" is missing a listen method"},listenTo:function(t,e,n){var i,o,s,a=this.subscriptions=this.subscriptions||[];return r.throwIf(this.validateListening(t)),this.fetchInitialState(t,n),i=t.listen(this[e]||e,this),o=function(){var t=a.indexOf(s);r.throwIf(-1===t,"Tried to remove listen already gone from subscriptions list!"),a.splice(t,1),i()},s={stop:o,listenable:t},a.push(s),s},stopListeningTo:function(t){for(var e,n=0,i=this.subscriptions||[];n<i.length;n++)if(e=i[n],e.listenable===t)return e.stop(),r.throwIf(-1!==i.indexOf(e),"Failed to remove listen from subscriptions list!"),!0;return!1},stopListeningToAll:function(){for(var t,e=this.subscriptions||[];t=e.length;)e[0].stop(),r.throwIf(e.length!==t-1,"Failed to remove listen from subscriptions list!")},fetchInitialState:function(t,e){e=e&&this[e]||e;var n=this;if(r.isFunction(e)&&r.isFunction(t.getInitialState)){var i=t.getInitialState();i&&r.isFunction(i.then)?i.then(function(){e.apply(n,arguments)}):e.call(this,i)}},joinTrailing:i("last"),joinLeading:i("first"),joinConcat:i("all"),joinStrict:i("strict")}},function(t,e,n){"use strict";var r=n(0),i=r.createActions(["clearSelection","clickEditorTab","clickPreviewTab","makeBold","makeImage","makeItalic","makeLink","makeList","makeHeader","makeSubHeader","makeUnderline","setSelection"]);t.exports=i},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,l=r(t),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var u in n)o.call(n,u)&&(l[u]=n[u]);if(i){a=i(n);for(var h=0;h<a.length;h++)s.call(n,a[h])&&(l[a[h]]=n[a[h]])}}return l}},function(t,e,n){"use strict";var r=n(0),i=r.createActions(["selectionCleared","selectionSet"]);t.exports=i},function(t,e,n){"use strict";var r=n(0),i=r.createActions(["updateText"]);t.exports=i},function(t,e,n){"use strict";e.createdStores=[],e.createdActions=[],e.reset=function(){for(;e.createdStores.length;)e.createdStores.pop();for(;e.createdActions.length;)e.createdActions.pop()}},function(t,e,n){"use strict";var r=n(1);t.exports={preEmit:function(){},shouldEmit:function(){return!0},listen:function(t,e){e=e||this;var n=function(n){i||t.apply(e,n)},r=this,i=!1;return this.emitter.addListener(this.eventLabel,n),function(){i=!0,r.emitter.removeListener(r.eventLabel,n)}},trigger:function(){var t=arguments,e=this.preEmit.apply(this,t);t=void 0===e?t:r.isArguments(e)?e:[].concat(e),this.shouldEmit.apply(this,t)&&this.emitter.emit(this.eventLabel,t)},triggerAsync:function(){var t=arguments,e=this;r.nextTick(function(){e.trigger.apply(e,t)})},deferWith:function(t){var e=this.trigger,n=this,r=function(){e.apply(n,arguments)};this.trigger=function(){t.apply(n,[r].concat([].splice.call(arguments,0)))}}}},function(t,e,n){var r=n(1),i=n(2);t.exports=r.extend({componentWillUnmount:i.stopListeningToAll},i)},function(t,e,n){"use strict";var r=n(4),i=(n(5),{iconsProviderName:null,setIconsProvider:function(t){this.iconsProviderName=t},isFontAwesome:function(){return"font-awesome"===this.iconsProviderName},getStyleMarkdownBtn:function(){return{flex:"1",maxWidth:"50px",border:"1px solid #ddd",backgroundColor:"white",borderRadius:"4px",margin:"0 2px",padding:"2px 3px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"}},getBoldButton:function(t,e){var n=this.getStyleMarkdownBtn();return this.isFontAwesome()?this.getButtonFontAwesomeIcon(t,e,n,"fa-bold","bold-btn"):this.getButtonMaterializeIcon(t,e,n,"format_bold","bold-btn")},getButtonMaterializeIcon:function(t,e,n,i,o){return r.createElement("div",{role:"button",className:o,style:n,disabled:t,onClick:e},r.createElement("i",{className:"material-icons"},i))},getButtonFontAwesomeIcon:function(t,e,n,i,o){var s="fa "+i;return r.createElement("div",{role:"button",className:o,style:n,disabled:t,onClick:e},r.createElement("i",{className:s}))},getButtonWithoutIcon:function(t,e,n,i){var o={display:"flex",minWidth:"50px",border:"1px solid #ddd",color:"black",backgroundColor:"white",borderRadius:"4px",margin:"0 2px",padding:"2px 3px",cursor:"pointer",textAlign:"center",justifyContent:"flex-end",alignItems:"center"};return r.createElement("div",{role:"button",style:o,className:n,disabled:t,onClick:e},r.createElement("span",null,i))},getItalicButton:function(t,e){if(this.isFontAwesome()){var n=this.getStyleMarkdownBtn();return this.getButtonFontAwesomeIcon(t,e,n,"fa-italic","italic-btn")}var n=this.getStyleMarkdownBtn();return this.getButtonMaterializeIcon(t,e,n,"format_italic","italic-btn")},getMakeListButton:function(t,e){if(this.isFontAwesome()){var n=this.getStyleMarkdownBtn();return this.getButtonFontAwesomeIcon(t,e,n,"fa-list-ul","list-btn")}var n=this.getStyleMarkdownBtn();return this.getButtonMaterializeIcon(t,e,n,"format_list_bulleted","list-btn")},getImageButton:function(t,e){if(this.isFontAwesome()){var n=this.getStyleMarkdownBtn();return this.getButtonFontAwesomeIcon(t,e,n,"fa-file-image-o","insert-img-btn")}var n=this.getStyleMarkdownBtn();return this.getButtonMaterializeIcon(t,e,n,"insert_photo","insert-img-btn")},getLinkButton:function(t,e){if(this.isFontAwesome()){var n=this.getStyleMarkdownBtn();return this.getButtonFontAwesomeIcon(t,e,n,"fa-link","insert-link-btn")}var n=this.getStyleMarkdownBtn();return this.getButtonMaterializeIcon(t,e,n,"insert_link","insert-link-btn")}});t.exports=i},function(t,e,n){"use strict";var r,i=n(3),o=n(0),s=!0,a={mixins:[o.ListenerMixin],clearSelection:function(){s&&i.clearSelection()},bindSelectEvent:function(){null!==this.refs.editor&&(this.textAreaElem=this.refs.editor,this.textAreaElem.addEventListener("select",this.onSelectHandler))},componentDidMount:function(){this.bindSelectEvent()},componentWillUpdate:function(){this.unbindSelectEvent()},componentDidUpdate:function(){this.bindSelectEvent()},unbindSelectEvent:function(){this.textAreaElem.removeEventListener("select",this.onSelectHandler)},componentWillUnmount:function(){this.unbindSelectEvent()},onSelectHandler:function(t){var e=this._getEventSource(t),n=e.selectionStart,r=e.selectionEnd,o=e.value.slice(n,r),s={selectionStart:n,selectionEnd:r,selectedText:o};i.setSelection(s),this._preventClearSelectionAfterSelectIfNeeded(t)},_getEventSource:function(t){return t.srcElement||t.target},_preventClearSelectionAfterSelectIfNeeded:function(t){null!==t.target&&(s=!1,r=setTimeout(function(){s=!0,r=null},100))}};t.exports=a},function(t,e,n){"use strict";var r=n(0),i=n(3),o=r.createStore({init:function(){this.listenTo(i.clickPreviewTab,this.handleClickPreviewTab),this.listenTo(i.clickEditorTab,this.handleClickEditorTab)},handleClickPreviewTab:function(){this.trigger({activeTab:1})},handleClickEditorTab:function(){this.trigger({activeTab:0})}});t.exports=o},function(t,e,n){"use strict";var r=n(0),i=n(7),o=r.createStore({init:function(){this.listenTo(i.selectionSet,this.handleSelectionSet),this.listenTo(i.selectionCleared,this.handleSelectionCleared)},handleSelectionCleared:function(){this.trigger({type:"clear"})},handleSelectionSet:function(){this.trigger({type:"set"})}});t.exports=o},function(t,e,n){"use strict";var r=function(t){return t.replace(/[\n\r]/g,"  \n")};t.exports={toMarkdown:r}},function(t,e,n){e.markdown=n(32),e.parse=e.markdown.toHTML},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";var r=n(1),i=n(9),o=n(37),s=n(34),a={preEmit:1,shouldEmit:1};t.exports=function(t){function e(){var e,n=0;if(this.subscriptions=[],this.emitter=new r.EventEmitter,this.eventLabel="change",s(this,t),this.init&&r.isFunction(this.init)&&this.init(),this.listenables)for(e=[].concat(this.listenables);n<e.length;n++)this.listenToMany(e[n])}var l=n(19),c=n(10),u=n(2);t=t||{};for(var h in l)if(!a[h]&&(c[h]||u[h]))throw new Error("Cannot override API method "+h+" in Reflux.StoreMethods. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");for(var f in t)if(!a[f]&&(c[f]||u[f]))throw new Error("Cannot override API method "+f+" in store creation. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");t=o(t),r.extend(e.prototype,u,c,l,t);var p=new e;return i.createdStores.push(p),p}},function(t,e,n){"use strict";function r(t,e,n){return function(){var r,i=n.subscriptions,o=i?i.indexOf(t):-1;for(l.throwIf(-1===o,"Tried to remove join already gone from subscriptions list!"),r=0;r<e.length;r++)e[r]();i.splice(o,1)}}function i(t){t.listenablesEmitted=new Array(t.numberOfListenables),t.args=new Array(t.numberOfListenables)}function o(t,e){return function(){var n=c.call(arguments);if(e.listenablesEmitted[t])switch(e.strategy){case"strict":throw new Error("Strict join failed because listener triggered twice.");case"last":e.args[t]=n;break;case"all":e.args[t].push(n)}else e.listenablesEmitted[t]=!0,e.args[t]="all"===e.strategy?[n]:n;s(e)}}function s(t){for(var e=0;e<t.numberOfListenables;e++)if(!t.listenablesEmitted[e])return;t.callback.apply(t.listener,t.args),i(t)}var a=n(20),l=n(1),c=Array.prototype.slice,u={strict:"joinStrict",first:"joinLeading",last:"joinTrailing",all:"joinConcat"};e.staticJoinCreator=function(t){return function(){var e=c.call(arguments);return a({init:function(){this[u[t]].apply(this,e.concat("triggerAsync"))}})}},e.instanceJoinCreator=function(t){return function(){l.throwIf(arguments.length<2,"Cannot create a join with less than 2 listenables!");var e,n,s=c.call(arguments),a=s.pop(),u=s.length,h={numberOfListenables:u,callback:this[a]||a,listener:this,strategy:t},f=[];for(e=0;e<u;e++)l.throwIf(this.validateListening(s[e]));for(e=0;e<u;e++)f.push(s[e].listen(o(e,h),this));return i(h),n={listenable:s},n.stop=r(n,f,this),this.subscriptions=(this.subscriptions||[]).concat(n),n}}},function(t,e,n){"use strict";var r=n(4),i=(n(5),n(0)),o=(n(17).markdown,n(3),n(8)),s=(n(7),n(13),n(12),n(29)),a=(n(15),n(14)),l=n(30),c=n(16),u=n(26),h=n(28),f=n(25),p=n(27),d=n(6),g=l.NullMarkdownToken,v=l.RegularMarkdownToken,y=l.HeaderMarkdownToken,m=l.SubHeaderMarkdownToken,b=l.UrlMarkdownToken,k=l.ListMarkdownToken,w=l.ImageMarkdownToken,x=r.createClass({displayName:"MarkdownEditor",mixins:[i.ListenerMixin],propTypes:{initialContent:r.PropTypes.string.isRequired,iconsSet:r.PropTypes.oneOf(["font-awesome","materialize-ui"]).isRequired,onContentChange:r.PropTypes.func,editorTabs:r.PropTypes.bool},getInitialState:function(){var t=Math.random().toString(36).substring(7);return{content:this.props.initialContent,inEditMode:!0,instanceRef:t}},render:function(){var t,e;this.state.inEditMode?(t=r.createElement(f,{styles:{styleMarkdownTextArea:this.props.styles.styleMarkdownTextArea},content:this.state.content,onChangeHandler:this.onChangeHandler}),!1!==this.props.editorTabs&&(e=r.createElement(u,{styles:{styleMarkdownMenu:this.props.styles.styleMarkdownMenu},iconsSet:this.props.iconsSet,instanceRef:this.state.instanceRef}))):(t=r.createElement(p,{styles:{styleMarkdownPreviewArea:this.props.styles.styleMarkdownPreviewArea},content:this.state.content}),e=null);var n=x.defaultProps.styles.styleMarkdownEditorHeader;d(n,this.props.styles.styleMarkdownEditorHeader);var i=x.defaultProps.styles.styleMarkdownEditorContainer;return d(i,this.props.styles.styleMarkdownEditorContainer),r.createElement("div",{style:i},r.createElement("div",{style:n,className:"md-editor-header"},e,r.createElement(h,{styles:{styleMarkdownEditorTabs:this.props.styles.styleMarkdownEditorTabs,styleTab:this.props.styles.styleTab,styleActiveTab:this.props.styles.styleActiveTab}})),t)},onChangeHandler:function(t){this.props.onContentChange&&this.props.onContentChange(t),this.setState({content:t})},componentDidMount:function(){this.listenTo(s,this.handleMarkdowEditorStoreUpdated),this.listenTo(a,this.handleMDEditorTabsInteractionStoreUpdated)},handleMarkdowEditorStoreUpdated:function(t){var e=t.currentSelection;null!=e&&t.instanceRef===this.state.instanceRef&&this.updateText(this.state.content,e,t.action)},handleMDEditorTabsInteractionStoreUpdated:function(t){if(null!=t.activeTab){var e=0===t.activeTab;this.setState({inEditMode:e})}},updateText:function(t,e,n){var r=this.generateMarkdownToken(n),i=t.slice(0,e.selectionStart),s=t.slice(e.selectionEnd,t.length),a=r.applyTokenTo(e.selectedText),l=i+a+s;o.updateText(c.toMarkdown(l)),this.setState({content:l}),this.props.onContentChange&&this.props.onContentChange(l)},generateMarkdownToken:function(t){switch(t){case"bold":return new v("**",!0);case"italic":return new v("_",!0);case"header":return new y;case"subheader":return new m;case"link":return new b;case"list":return new k;case"image":return new w;default:return new g}}});x.defaultProps={styles:{styleMarkdownEditorHeader:{display:"flex",flexDirection:"column",borderBottom:"1px solid #ddd",marginLeft:"0px",marginRight:"0px",minHeight:"50px",justifyContent:"center",position:"relative"},styleMarkdownEditorContainer:{display:"flex",flexDirection:"column",marginTop:"2px",paddingTop:"10px",border:"1px solid #ddd",backgroundColor:"#f7f7f7"},styleMarkdownMenu:{margin:"5px 0",flex:"1",display:"flex",position:"absolute",right:"20px",top:"10px"}}},t.exports=x},function(t,e,n){"use strict";var r=n(0),i=n(8),o=r.createStore({init:function(){this.listenTo(i.updateText,this.onUpdateText)},onUpdateText:function(t){this.trigger({content:t})}});t.exports=o},function(t,e,n){"use strict";t.exports={MarkdownEditor:n(22),MarkdownEditorContentStore:n(23)}},function(t,e,n){"use strict";var r=n(4),i=(n(5),n(16)),o=n(8),s=n(13),a=n(6),l=r.createClass({displayName:"MarkdownEditorContent",propTypes:{content:r.PropTypes.string.isRequired,onChangeHandler:r.PropTypes.func.isRequired},mixins:[s],render:function(){var t=l.defaultProps.styles.styleMarkdownTextArea;return a(t,this.props.styles.styleMarkdownTextArea),r.createElement("textarea",{ref:"editor",className:"md-editor-textarea",style:t,onChange:this.onChange,onClick:this.clearSelection,onKeyUp:this.clearSelection})},onChange:function(){var t=this.refs.editor.value,e=i.toMarkdown(t);o.updateText(e),this.props.onChangeHandler(t.replace(/[\n\r]/g,"\n"))},componentDidMount:function(){this.refs.editor.value=this.props.content},componentDidUpdate:function(){this.refs.editor.value=this.props.content}});l.defaultProps={styles:{styleMarkdownTextArea:{height:"90%",width:"100%",padding:"30px 10px",border:"none"}}},t.exports=l},function(t,e,n){"use strict";var r=n(4),i=(n(5),n(0)),o=n(12),s=n(15),a=n(3),l=n(6),c=r.createClass({displayName:"MarkdownEditorMenu",mixins:[i.ListenerMixin,o],propTypes:{iconsSet:r.PropTypes.string.isRequired},getInitialState:function(){return{enabled:!1}},componentWillMount:function(){this.listenTo(s,this.handleMarkdownSelectionStore),this.setIconsProvider(this.props.iconsSet)},render:function(){var t=this.state.enabled?"":"disabled",e=this.getBoldButton(t,this.handleBoldButtonClick),n=this.getItalicButton(t,this.handleItalicButtonClick),i=this.getMakeListButton(t,this.handleListButtonClick),o=this.getImageButton(t,this.handleImageButtonClick),s=this.getLinkButton(t,this.handleLinkButtonClick),a=this.getButtonWithoutIcon(t,this.handleHeaderButtonClick,"md-editor-menu-header","Header"),u=this.getButtonWithoutIcon(t,this.handleSubHeaderButtonClick,"md-editor-menu-subheader","Subheader"),h=c.defaultProps.styles.styleMarkdownMenu;return l(h,this.props.styles.styleMarkdownMenu),r.createElement("div",{style:h,className:"md-editor-menu"},e,n,a,u,i,o,s)},handleMarkdownSelectionStore:function(t){"clear"===t.type?this.setState({enabled:!1}):"set"===t.type&&this.setState({enabled:!0})},handleBoldButtonClick:function(){a.makeBold(this.props.instanceRef)},handleImageButtonClick:function(){a.makeImage(this.props.instanceRef)},handleItalicButtonClick:function(){a.makeItalic(this.props.instanceRef)},handleUnderlineButtonClick:function(){a.makeUnderline(this.props.instanceRef)},handleHeaderButtonClick:function(){a.makeHeader(this.props.instanceRef)},handleSubHeaderButtonClick:function(){a.makeSubHeader(this.props.instanceRef)},handleLinkButtonClick:function(){a.makeLink(this.props.instanceRef)},handleListButtonClick:function(){a.makeList(this.props.instanceRef)}});c.defaultProps={styles:{styleMarkdownMenu:{margin:"5px 0",flex:"1",display:"flex",position:"absolute",right:"20px",top:"10px"}}},t.exports=c},function(t,e,n){"use strict";var r=n(4),i=(n(5),n(17).markdown),o=n(6),s=r.createClass({displayName:"MarkdownEditorPreview",propTypes:{content:r.PropTypes.string.isRequired},render:function(){var t=this.props.content.replace(/[\n]/g,"  \n");t=i.toHTML(t);var e=s.defaultProps.styles.styleMarkdownPreviewArea;return o(e,this.props.styles.styleMarkdownPreviewArea),r.createElement("div",{style:e,dangerouslySetInnerHTML:{__html:t}})}});s.defaultProps={styles:{styleMarkdownPreviewArea:{height:"90%",width:"100%",padding:"30px 10px",backgroundColor:"#fff",border:"none"}}},t.exports=s},function(t,e,n){"use strict";var r=n(4),i=(n(5),n(0)),o=n(3),s=n(14),a=n(6),l=r.createClass({displayName:"MarkdownEditorTabs",mixins:[i.ListenerMixin],getInitialState:function(){return{activeTab:0}},componentWillMount:function(){this.listenTo(s,this.handleMDEditorTabsInteractionStoreUpdated)},handleMDEditorTabsInteractionStoreUpdated:function(t){null!=t.activeTab&&this.setState({activeTab:t.activeTab})},render:function(){var t=l.defaultProps.styles.styleActiveTab,e=l.defaultProps.styles.styleMarkdownEditorTabs,n=l.defaultProps.styles.styleTab;a(t,this.props.styles.styleActiveTab),a(e,this.props.styles.styleMarkdownEditorTabs),a(n,this.props.styles.styleTab),this.props.hasOwnProperty("styles")&&this.props.styles.hasOwnProperty("styleActiveTab")&&Object.assign(t,this.props.styles.styleActiveTab);var i,o;return 0===this.state.activeTab?(i=t,o=n):1===this.state.activeTab&&(o=t,i=n),r.createElement("div",{style:e,className:"md-editor-tabs"},r.createElement("div",{style:i,className:"md-editor-tabs-item",onClick:this.handleClick.bind(this,"clickEditorTab")},r.createElement("span",null,"Editor")),r.createElement("div",{style:o,className:"md-editor-tabs-item",onClick:this.handleClick.bind(this,"clickPreviewTab")},r.createElement("span",null,"Preview")))},handleClick:function(t){o[t]()}});l.defaultProps={styles:{styleMarkdownEditorTabs:{border:"none",display:"flex",justifyContent:"flex-start"},styleTab:{padding:"0px 20px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",height:"50px"},styleActiveTab:{padding:"0px 20px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",height:"50px",borderLeft:"1px solid #ddd",borderRight:"1px solid #ddd",borderTop:"1px solid #ddd",backgroundColor:"#fff",borderRadius:"3px"}}},t.exports=l},function(t,e,n){"use strict";var r=n(0),i=n(3),o=n(7),s=r.createStore({init:function(){this.currentSelection=null,this.listenTo(i.makeBold,this.handleMakeBold),this.listenTo(i.makeItalic,this.handleMakeItalic),this.listenTo(i.makeHeader,this.handleMakeHeader),this.listenTo(i.makeSubHeader,this.handleMakeSubHeader),this.listenTo(i.makeImage,this.handleMakeImage),this.listenTo(i.makeLink,this.handleMakeLink),this.listenTo(i.makeList,this.handleMakeList),this.listenTo(i.makeUnderline,this.handleMakeUnderline),this.listenTo(i.clearSelection,this.handleClearSelection),this.listenTo(i.setSelection,this.handleSetSelection)},handleMakeBold:function(t){this.trigger({action:"bold",currentSelection:this.currentSelection,instanceRef:t})},handleMakeItalic:function(t){this.trigger({action:"italic",currentSelection:this.currentSelection,instanceRef:t})},handleMakeLink:function(t){this.trigger({action:"link",currentSelection:this.currentSelection,instanceRef:t})},handleMakeUnderline:function(t){this.trigger({action:"underline",currentSelection:this.currentSelection,instanceRef:t})},handleMakeHeader:function(t){this.trigger({action:"header",currentSelection:this.currentSelection,instanceRef:t})},handleMakeSubHeader:function(t){this.trigger({action:"subheader",currentSelection:this.currentSelection,instanceRef:t})},handleMakeList:function(t){this.trigger({action:"list",currentSelection:this.currentSelection,instanceRef:t})},handleMakeImage:function(t){this.trigger({action:"image",currentSelection:this.currentSelection,instanceRef:t})},handleClearSelection:function(){this.currentSelection=null,o.selectionCleared()},handleSetSelection:function(t){this.currentSelection=t,o.selectionSet()}});t.exports=s},function(t,e,n){"use strict";var r=function(t,e){this.token=t,this.isSymetric=e};r.prototype.applyTokenTo=function(t){var e=this.token;return e+=t,this.isSymetric&&(e+=this.token),e};var i=function(){r.call(this,"",!1)};i.prototype=Object.create(r.prototype),i.prototype.applyTokenTo=function(t){return t};var o=function(t){r.call(this,t||"##",!1)};o.prototype=Object.create(r.prototype),o.prototype.applyTokenTo=function(t){return"\n"+this.token+" "+t+"\n"};var s=function(){o.call(this,"###",!1)};s.prototype=Object.create(o.prototype);var a=function(){r.call(this,null,!1)};a.prototype=Object.create(r.prototype),a.prototype.applyTokenTo=function(t){return"["+t+"]("+t+")"};var l=function(){r.call(this,null,!1)};l.prototype=Object.create(r.prototype),l.prototype.applyTokenTo=function(t){return t.split("\n").reduce(function(t,e){return t+"+ "+e+"\n"},"\n")+"\n"};var c=function(){r.call(this,null,!1)};c.prototype=Object.create(r.prototype),c.prototype.applyTokenTo=function(t){return"!["+t+"]("+t+")"},t.exports={RegularMarkdownToken:r,NullMarkdownToken:i,HeaderMarkdownToken:o,SubHeaderMarkdownToken:s,UrlMarkdownToken:a,ListMarkdownToken:l,ImageMarkdownToken:c}},function(t,e,n){"use strict";function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(){}var o=Object.prototype.hasOwnProperty,s="function"!=typeof Object.create&&"~";i.prototype._events=void 0,i.prototype.eventNames=function(){var t,e=this._events,n=[];if(!e)return n;for(t in e)o.call(e,t)&&n.push(s?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},i.prototype.listeners=function(t,e){var n=s?s+t:t,r=this._events&&this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},i.prototype.emit=function(t,e,n,r,i,o){var a=s?s+t:t;if(!this._events||!this._events[a])return!1;var l,c,u=this._events[a],h=arguments.length;if("function"==typeof u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,r),!0;case 5:return u.fn.call(u.context,e,n,r,i),!0;case 6:return u.fn.call(u.context,e,n,r,i,o),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,n);break;default:if(!l)for(f=1,l=new Array(h-1);f<h;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},i.prototype.on=function(t,e,n){var i=new r(e,n||this),o=s?s+t:t;return this._events||(this._events=s?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):this._events[o]=i,this},i.prototype.once=function(t,e,n){var i=new r(e,n||this,!0),o=s?s+t:t;return this._events||(this._events=s?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):this._events[o]=i,this},i.prototype.removeListener=function(t,e,n,r){var i=s?s+t:t;if(!this._events||!this._events[i])return this;var o=this._events[i],a=[];if(e)if(o.fn)(o.fn!==e||r&&!o.once||n&&o.context!==n)&&a.push(o);else for(var l=0,c=o.length;l<c;l++)(o[l].fn!==e||r&&!o[l].once||n&&o[l].context!==n)&&a.push(o[l]);return a.length?this._events[i]=1===a.length?a[0]:a:delete this._events[i],this},i.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[s?s+t:t]:this._events=s?{}:Object.create(null),this):this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=s,t.exports=i},function(t,e,n){!function(t){function e(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function r(){var t=n(44);return"Markdown.mk_block( "+t.inspect(this.toString())+", "+t.inspect(this.trailing)+", "+t.inspect(this.lineNumber)+" )"}function i(t){for(var e=0,n=-1;-1!==(n=t.indexOf("\n",n+1));)e++;return e}function o(t,e){function n(t){this.len_after=t,this.name="close_"+e}var r=t+"_state",i="strong"==t?"em_state":"strong_state";return function(o,s){if(this[r][0]==e)return this[r].shift(),[o.length,new n(o.length-e.length)];var a=this[i].slice(),l=this[r].slice();this[r].unshift(e);var c=this.processInline(o.substr(e.length)),u=c[c.length-1];this[r].shift();if(u instanceof n){c.pop();return[o.length-u.len_after,[t].concat(c)]}return this[i]=a,this[r]=l,[e.length,e]}}function s(t){for(var e=t.split(""),n=[""],r=!1;e.length;){var i=e.shift();switch(i){case" ":r?n[n.length-1]+=i:n.push("");break;case"'":case'"':r=!r;break;case"\\":i=e.shift();default:n[n.length-1]+=i}}return n}function l(t){return y(t)&&t.length>1&&"object"==typeof t[1]&&!y(t[1])?t[1]:void 0}function c(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function u(t){if("string"==typeof t)return c(t);var e=t.shift(),n={},r=[];for(!t.length||"object"!=typeof t[0]||t[0]instanceof Array||(n=t.shift());t.length;)r.push(u(t.shift()));var i="";for(var o in n)i+=" "+o+'="'+c(n[o])+'"';return"img"==e||"br"==e||"hr"==e?"<"+e+i+"/>":"<"+e+i+">"+r.join("")+"</"+e+">"}function h(t,e,n){var r;n=n||{};var i=t.slice(0);"function"==typeof n.preprocessTreeNode&&(i=n.preprocessTreeNode(i,e));var o=l(i);if(o){i[1]={};for(r in o)i[1][r]=o[r];o=i[1]}if("string"==typeof i)return i;switch(i[0]){case"header":i[0]="h"+i[1].level,delete i[1].level;break;case"bulletlist":i[0]="ul";break;case"numberlist":i[0]="ol";break;case"listitem":i[0]="li";break;case"para":i[0]="p";break;case"markdown":i[0]="html",o&&delete o.references;break;case"code_block":i[0]="pre",r=o?2:1;var s=["code"];s.push.apply(s,i.splice(r,i.length-r)),i[r]=s;break;case"inlinecode":i[0]="code";break;case"img":i[1].src=i[1].href,delete i[1].href;break;case"linebreak":i[0]="br";break;case"link":i[0]="a";break;case"link_ref":i[0]="a";var a=e[o.ref];if(!a)return o.original;delete o.ref,o.href=a.href,a.title&&(o.title=a.title),delete o.original;break;case"img_ref":i[0]="img";var a=e[o.ref];if(!a)return o.original;delete o.ref,o.src=a.href,a.title&&(o.title=a.title),delete o.original}if(r=1,o){for(var c in i[1]){r=2;break}1===r&&i.splice(r,1)}for(;r<i.length;++r)i[r]=h(i[r],e,n);return i}function f(t){for(var e=l(t)?2:1;e<t.length;)"string"==typeof t[e]?e+1<t.length&&"string"==typeof t[e+1]?t[e]+=t.splice(e+1,1)[0]:++e:(f(t[e]),++e)}var d=t.Markdown=function(t){switch(typeof t){case"undefined":this.dialect=d.dialects.Gruber;break;case"object":this.dialect=t;break;default:if(!(t in d.dialects))throw new Error("Unknown Markdown dialect '"+String(t)+"'");this.dialect=d.dialects[t]}this.em_state=[],this.strong_state=[],this.debug_indent=""};t.parse=function(t,e){return new d(e).toTree(t)},t.toHTML=function(e,n,r){var i=t.toHTMLTree(e,n,r);return t.renderJsonML(i)},t.toHTMLTree=function(t,e,n){"string"==typeof t&&(t=this.parse(t,e));var r=l(t),i={};r&&r.references&&(i=r.references);var o=h(t,i,n);return f(o),o};var g=d.mk_block=function(t,n,i){1==arguments.length&&(n="\n\n");var o=new String(t);return o.trailing=n,o.inspect=r,o.toSource=e,void 0!=i&&(o.lineNumber=i),o};d.prototype.split_blocks=function(t,e){t=t.replace(/(\r\n|\n|\r)/g,"\n");var n,r=/([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,o=[],s=1;for(null!=(n=/^(\s*\n)/.exec(t))&&(s+=i(n[0]),r.lastIndex=n[0].length);null!==(n=r.exec(t));)"\n#"==n[2]&&(n[2]="\n",r.lastIndex--),o.push(g(n[1],n[2],s)),s+=i(n[0]);return o},d.prototype.processBlock=function(t,e){var n=this.dialect.block,r=n.__order__;if("__call__"in n)return n.__call__.call(this,t,e);for(var i=0;i<r.length;i++){var o=n[r[i]].call(this,t,e);if(o)return(!y(o)||o.length>0&&!y(o[0]))&&this.debug(r[i],"didn't return a proper array"),o}return[]},d.prototype.processInline=function(t){return this.dialect.inline.__call__.call(this,String(t))},d.prototype.toTree=function(t,e){var n=t instanceof Array?t:this.split_blocks(t),r=this.tree;try{for(this.tree=e||this.tree||["markdown"];n.length;){var i=this.processBlock(n.shift(),n);i.length&&this.tree.push.apply(this.tree,i)}return this.tree}finally{e&&(this.tree=r)}},d.prototype.debug=function(){var t=Array.prototype.slice.call(arguments);t.unshift(this.debug_indent),"undefined"!=typeof print&&print.apply(print,t),"undefined"!=typeof console&&void 0!==console.log&&console.log.apply(null,t)},d.prototype.loop_re_over_block=function(t,e,n){for(var r,i=e.valueOf();i.length&&null!=(r=t.exec(i));)i=i.substr(r[0].length),n.call(this,r);return i},d.dialects={},d.dialects.Gruber={block:{atxHeader:function(t,e){var n=t.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(n){var r=["header",{level:n[1].length}];return Array.prototype.push.apply(r,this.processInline(n[2])),n[0].length<t.length&&e.unshift(g(t.substr(n[0].length),t.trailing,t.lineNumber+2)),[r]}},setextHeader:function(t,e){var n=t.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(n){var r="="===n[2]?1:2,i=["header",{level:r},n[1]];return n[0].length<t.length&&e.unshift(g(t.substr(n[0].length),t.trailing,t.lineNumber+2)),[i]}},code:function(t,e){var n=[],r=/^(?: {0,3}\t| {4})(.*)\n?/;if(t.match(r)){t:for(;;){var i=this.loop_re_over_block(r,t.valueOf(),function(t){n.push(t[1])});if(i.length){e.unshift(g(i,t.trailing));break t}if(!e.length)break t;if(!e[0].match(r))break t;n.push(t.trailing.replace(/[^\n]/g,"").substring(2)),t=e.shift()}return[["code_block",n.join("\n")]]}},horizRule:function(t,e){var n=t.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(n){var r=[["hr"]];return n[1]&&r.unshift.apply(r,this.processBlock(n[1],[])),n[3]&&e.unshift(g(n[3])),r}},lists:function(){function t(t){return new RegExp("(?:^("+l+"{0,"+t+"} {0,3})("+o+")\\s+)|(^"+l+"{0,"+(t-1)+"}[ ]{0,4})")}function e(t){return t.replace(/ {0,3}\t/g,"    ")}function n(t,e,n,r){if(e)return void t.push(["para"].concat(n));var i=t[t.length-1]instanceof Array&&"para"==t[t.length-1][0]?t[t.length-1]:t;r&&t.length>1&&n.unshift(r);for(var o=0;o<n.length;o++){var s=n[o];"string"==typeof s&&i.length>1&&"string"==typeof i[i.length-1]?i[i.length-1]+=s:i.push(s)}}function r(t,e){for(var n=new RegExp("^("+l+"{"+t+"}.*?\\n?)*$"),r=new RegExp("^"+l+"{"+t+"}","gm"),i=[];e.length>0&&n.exec(e[0]);){var o=e.shift(),s=o.replace(r,"");i.push(g(s,o.trailing,o.lineNumber))}return i}function i(t,e,n){var r=t.list,i=r[r.length-1];if(!(i[1]instanceof Array&&"para"==i[1][0]))if(e+1==n.length)i.push(["para"].concat(i.splice(1,i.length-1)));else{var o=i.pop();i.push(["para"].concat(i.splice(1,i.length-1)),o)}}var o="[*+-]|\\d+\\.",s=/[*+-]/,a=new RegExp("^( {0,3})("+o+")[ \t]+"),l="(?: {0,3}\\t| {4})";return function(o,l){function c(t){var e=s.exec(t[2])?["bulletlist"]:["numberlist"];return p.push({list:e,indent:t[1]}),e}var u=o.match(a);if(u){for(var h,f,p=[],d=c(u),g=!1,y=[p[0].list];;){for(var m=o.split(/(?=\n)/),b="",k=0;k<m.length;k++){var w="",x=m[k].replace(/^\n/,function(t){return w=t,""}),_=t(p.length);if(u=x.match(_),void 0!==u[1]){b.length&&(n(h,g,this.processInline(b),w),g=!1,b=""),u[1]=e(u[1]);var T=Math.floor(u[1].length/4)+1;if(T>p.length)d=c(u),h.push(d),h=d[1]=["listitem"];else{var S=!1;for(f=0;f<p.length;f++)if(p[f].indent==u[1]){d=p[f].list,p.splice(f+1,p.length-(f+1)),S=!0;break}S||(T++,T<=p.length?(p.splice(T,p.length-T),d=p[T-1].list):(d=c(u),h.push(d))),h=["listitem"],d.push(h)}w=""}x.length>u[0].length&&(b+=w+x.substr(u[0].length))}b.length&&(n(h,g,this.processInline(b),w),g=!1,b="");var M=r(p.length,l);M.length>0&&(v(p,i,this),h.push.apply(h,this.toTree(M,[])));var E=l[0]&&l[0].valueOf()||"";if(!E.match(a)&&!E.match(/^ /))break;o=l.shift();var j=this.dialect.block.horizRule(o,l);if(j){y.push.apply(y,j);break}v(p,i,this),g=!0}return y}}}(),blockquote:function(t,e){if(t.match(/^>/m)){var n=[];if(">"!=t[0]){for(var r=t.split(/\n/),i=[],o=t.lineNumber;r.length&&">"!=r[0][0];)i.push(r.shift()),o++;var s=g(i.join("\n"),"\n",t.lineNumber);n.push.apply(n,this.processBlock(s,[])),t=g(r.join("\n"),t.trailing,o)}for(;e.length&&">"==e[0][0];){var a=e.shift();t=g(t+t.trailing+a,a.trailing,t.lineNumber)}var c=t.replace(/^> ?/gm,""),u=(this.tree,this.toTree(c,["blockquote"])),h=l(u);return h&&h.references&&(delete h.references,m(h)&&u.splice(1,1)),n.push(u),n}},referenceDefn:function(t,e){var n=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(t.match(n)){l(this.tree)||this.tree.splice(1,0,{});var r=l(this.tree);void 0===r.references&&(r.references={});var i=this.loop_re_over_block(n,t,function(t){t[2]&&"<"==t[2][0]&&">"==t[2][t[2].length-1]&&(t[2]=t[2].substring(1,t[2].length-1));var e=r.references[t[1].toLowerCase()]={href:t[2]};void 0!==t[4]?e.title=t[4]:void 0!==t[5]&&(e.title=t[5])});return i.length&&e.unshift(g(i,t.trailing)),[]}},para:function(t,e){return[["para"].concat(this.processInline(t))]}}},d.dialects.Gruber.inline={__oneElement__:function(t,e,n){var r,i;if(e=e||this.dialect.inline.__patterns__,!(r=new RegExp("([\\s\\S]*?)("+(e.source||e)+")").exec(t)))return[t.length,t];if(r[1])return[r[1].length,r[1]];var i;return r[2]in this.dialect.inline&&(i=this.dialect.inline[r[2]].call(this,t.substr(r.index),r,n||[])),i=i||[r[2].length,r[2]]},__call__:function(t,e){function n(t){"string"==typeof t&&"string"==typeof i[i.length-1]?i[i.length-1]+=t:i.push(t)}for(var r,i=[];t.length>0;)r=this.dialect.inline.__oneElement__.call(this,t,e,i),t=t.substr(r.shift()),v(r,n);return i},"]":function(){},"}":function(){},__escape__:/^\\[\\`\*_{}\[\]()#\+.!\-]/,"\\":function(t){return this.dialect.inline.__escape__.exec(t)?[2,t.charAt(1)]:[1,"\\"]},"![":function(t){var e=t.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(e){e[2]&&"<"==e[2][0]&&">"==e[2][e[2].length-1]&&(e[2]=e[2].substring(1,e[2].length-1)),e[2]=this.dialect.inline.__call__.call(this,e[2],/\\/)[0];var n={alt:e[1],href:e[2]||""};return void 0!==e[4]&&(n.title=e[4]),[e[0].length,["img",n]]}return e=t.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/),e?[e[0].length,["img_ref",{alt:e[1],ref:e[2].toLowerCase(),original:e[0]}]]:[2,"!["]},"[":function(t){var e=String(t),n=d.DialectHelpers.inline_until_char.call(this,t.substr(1),"]");if(!n)return[1,"["];var r,i,o=1+n[0],s=n[1];t=t.substr(o);var a=t.match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(a){var l=a[1];if(o+=a[0].length,l&&"<"==l[0]&&">"==l[l.length-1]&&(l=l.substring(1,l.length-1)),!a[3])for(var c=1,u=0;u<l.length;u++)switch(l[u]){case"(":c++;break;case")":0==--c&&(o-=l.length-u,l=l.substring(0,u))}return l=this.dialect.inline.__call__.call(this,l,/\\/)[0],i={href:l||""},void 0!==a[3]&&(i.title=a[3]),r=["link",i].concat(s),[o,r]}return a=t.match(/^\s*\[(.*?)\]/),a?(o+=a[0].length,i={ref:(a[1]||String(s)).toLowerCase(),original:e.substr(0,o)},r=["link_ref",i].concat(s),[o,r]):1==s.length&&"string"==typeof s[0]?(i={ref:s[0].toLowerCase(),original:e.substr(0,o)},r=["link_ref",i,s[0]],[o,r]):[1,"["]},"<":function(t){var e;return null!=(e=t.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?e[3]?[e[0].length,["link",{href:"mailto:"+e[3]},e[3]]]:"mailto"==e[2]?[e[0].length,["link",{href:e[1]},e[1].substr("mailto:".length)]]:[e[0].length,["link",{href:e[1]},e[1]]]:[1,"<"]},"`":function(t){var e=t.match(/(`+)(([\s\S]*?)\1)/);return e&&e[2]?[e[1].length+e[2].length,["inlinecode",e[3]]]:[1,"`"]},"  \n":function(t){return[3,["linebreak"]]}},d.dialects.Gruber.inline["**"]=o("strong","**"),d.dialects.Gruber.inline.__=o("strong","__"),d.dialects.Gruber.inline["*"]=o("em","*"),d.dialects.Gruber.inline._=o("em","_"),d.buildBlockOrder=function(t){var e=[];for(var n in t)"__order__"!=n&&"__call__"!=n&&e.push(n);t.__order__=e},d.buildInlinePatterns=function(t){var e=[];for(var n in t)if(!n.match(/^__.*__$/)){var r=n.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");e.push(1==n.length?r:"(?:"+r+")")}e=e.join("|"),t.__patterns__=e;var i=t.__call__;t.__call__=function(t,n){return void 0!=n?i.call(this,t,n):i.call(this,t,e)}},d.DialectHelpers={},d.DialectHelpers.inline_until_char=function(t,e){for(var n=0,r=[];;){if(t.charAt(n)==e)return n++,[n,r];if(n>=t.length)return null;var i=this.dialect.inline.__oneElement__.call(this,t.substr(n));n+=i[0],r.push.apply(r,i.slice(1))}},d.subclassDialect=function(t){function e(){}function n(){}return e.prototype=t.block,n.prototype=t.inline,{block:new e,inline:new n}},d.buildBlockOrder(d.dialects.Gruber.block),d.buildInlinePatterns(d.dialects.Gruber.inline),d.dialects.Maruku=d.subclassDialect(d.dialects.Gruber),d.dialects.Maruku.processMetaHash=function(t){for(var e=s(t),n={},r=0;r<e.length;++r)if(/^#/.test(e[r]))n.id=e[r].substring(1);else if(/^\./.test(e[r]))n.class?n.class=n.class+e[r].replace(/./," "):n.class=e[r].substring(1);else if(/\=/.test(e[r])){var i=e[r].split(/\=/);n[i[0]]=i[1]}return n},d.dialects.Maruku.block.document_meta=function(t,e){if(!(t.lineNumber>1)&&t.match(/^(?:\w+:.*\n)*\w+:.*$/)){l(this.tree)||this.tree.splice(1,0,{});var n=t.split(/\n/);for(p in n){var r=n[p].match(/(\w+):\s*(.*)$/),i=r[1].toLowerCase(),o=r[2];this.tree[1][i]=o}return[]}},d.dialects.Maruku.block.block_meta=function(t,e){var n=t.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(n){var r,i=this.dialect.processMetaHash(n[2]);if(""===n[1]){var o=this.tree[this.tree.length-1];if(r=l(o),"string"==typeof o)return;r||(r={},o.splice(1,0,r));for(a in i)r[a]=i[a];return[]}var s=t.replace(/\n.*$/,""),c=this.processBlock(s,[]);r=l(c[0]),r||(r={},c[0].splice(1,0,r));for(a in i)r[a]=i[a];return c}},d.dialects.Maruku.block.definition_list=function(t,e){var n,r,i=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,o=["dl"];if(r=t.match(i)){for(var s=[t];e.length&&i.exec(e[0]);)s.push(e.shift());for(var a=0;a<s.length;++a){var r=s[a].match(i),l=r[1].replace(/\n$/,"").split(/\n/),c=r[2].split(/\n:\s+/);for(n=0;n<l.length;++n)o.push(["dt",l[n]]);for(n=0;n<c.length;++n)o.push(["dd"].concat(this.processInline(c[n].replace(/(\n)\s+/,"$1"))))}return[o]}},d.dialects.Maruku.block.table=function(t,e){var n,r,i=function(t,e){e=e||"\\s",e.match(/^[\\|\[\]{}?*.+^$]$/)&&(e="\\"+e);for(var n,r=[],i=new RegExp("^((?:\\\\.|[^\\\\"+e+"])*)"+e+"(.*)");n=t.match(i);)r.push(n[1]),t=n[2];return r.push(t),r},o=/^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/,s=/^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/;if(r=t.match(o))r[3]=r[3].replace(/^\s*\|/gm,"");else if(!(r=t.match(s)))return;var a=["table",["thead",["tr"]],["tbody"]];r[2]=r[2].replace(/\|\s*$/,"").split("|");var l=[];for(v(r[2],function(t){t.match(/^\s*-+:\s*$/)?l.push({align:"right"}):t.match(/^\s*:-+\s*$/)?l.push({align:"left"}):t.match(/^\s*:-+:\s*$/)?l.push({align:"center"}):l.push({})}),r[1]=i(r[1].replace(/\|\s*$/,""),"|"),n=0;n<r[1].length;n++)a[1][1].push(["th",l[n]||{}].concat(this.processInline(r[1][n].trim())));return v(r[3].replace(/\|\s*$/gm,"").split("\n"),function(t){var e=["tr"];for(t=i(t,"|"),n=0;n<t.length;n++)e.push(["td",l[n]||{}].concat(this.processInline(t[n].trim())));a[2].push(e)},this),[a]},d.dialects.Maruku.inline["{:"]=function(t,e,n){if(!n.length)return[2,"{:"];var r=n[n.length-1];if("string"==typeof r)return[2,"{:"];var i=t.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!i)return[2,"{:"];var o=this.dialect.processMetaHash(i[1]),s=l(r);s||(s={},r.splice(1,0,s));for(var a in o)s[a]=o[a];return[i[0].length,""]},d.dialects.Maruku.inline.__escape__=/^\\[\\`\*_{}\[\]()#\+.!\-|:]/,d.buildBlockOrder(d.dialects.Maruku.block),d.buildInlinePatterns(d.dialects.Maruku.inline);var v,y=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)};v=Array.prototype.forEach?function(t,e,n){return t.forEach(e,n)}:function(t,e,n){for(var r=0;r<t.length;r++)e.call(n||t,t[r],r,t)};var m=function(t){for(var e in t)if(hasOwnProperty.call(t,e))return!1;return!0};t.renderJsonML=function(t,e){e=e||{},e.root=e.root||!1;var n=[];if(e.root)n.push(u(t));else for(t.shift(),!t.length||"object"!=typeof t[0]||t[0]instanceof Array||t.shift();t.length;)n.push(u(t.shift()));return n.join("\n\n")}}(function(){return e}())},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){g&&p&&(g=!1,p.length?d=p.concat(d):v=-1,d.length&&a())}function a(){if(!g){var t=i(s);g=!0;for(var e=d.length;e;){for(p=d,d=[];++v<e;)p&&p[v].run();v=-1,e=d.length}p=null,g=!1,o(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var u,h,f=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var p,d=[],g=!1,v=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new l(t,e)),1!==d.length||g||i(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,n){"use strict";t.exports=function(t,e){for(var n in e)if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var r=Object.getOwnPropertyDescriptor(e,n);if(!r.value||"function"!=typeof r.value||!e.hasOwnProperty(n))continue;t[n]=e[n].bind(t)}else{var i=e[n];if("function"!=typeof i||!e.hasOwnProperty(n))continue;t[n]=i.bind(t)}return t}},function(t,e,n){"use strict";var r=n(1),i=n(18),o=n(10),s=n(9),a={preEmit:1,shouldEmit:1},l=function t(e){e=e||{},r.isObject(e)||(e={actionName:e});for(var n in i)if(!a[n]&&o[n])throw new Error("Cannot override API method "+n+" in Reflux.ActionMethods. Use another method name or override it on Reflux.PublisherMethods instead.");for(var l in e)if(!a[l]&&o[l])throw new Error("Cannot override API method "+l+" in action creation. Use another method name or override it on Reflux.PublisherMethods instead.");e.children=e.children||[],e.asyncResult&&(e.children=e.children.concat(["completed","failed"]));for(var c=0,u={};c<e.children.length;c++){var h=e.children[c];u[h]=t(h)}var f=r.extend({eventLabel:"action",emitter:new r.EventEmitter,_isAction:!0},o,i,e),p=function t(){return t[t.sync?"trigger":"triggerAsync"].apply(t,arguments)};return r.extend(p,u,f),s.createdActions.push(p),p};t.exports=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={version:{"reflux-core":"0.3.0"}};r.ActionMethods=n(18),r.ListenerMethods=n(2),r.PublisherMethods=n(10),r.StoreMethods=n(19),r.createAction=n(35),r.createStore=n(20);var i=n(21).staticJoinCreator;r.joinTrailing=r.all=i("last"),r.joinLeading=i("first"),r.joinStrict=i("strict"),r.joinConcat=i("all");var o=r.utils=n(1);r.EventEmitter=o.EventEmitter,r.Promise=o.Promise,r.createActions=function(){var t=function(t,e){Object.keys(t).forEach(function(n){var i=t[n];e[n]=r.createAction(i)})};return function(e){var n={};return e instanceof Array?e.forEach(function(e){o.isObject(e)?t(e,n):n[e]=r.createAction(e)}):t(e,n),n}}(),r.setEventEmitter=function(t){r.EventEmitter=o.EventEmitter=t},r.nextTick=function(t){o.nextTick=t},r.use=function(t){t(r)},r.__keep=n(9),Function.prototype.bind||console.error("Function.prototype.bind not available. ES5 shim required. https://github.com/spoike/refluxjs#es5"),e.default=r,t.exports=e.default},function(t,e,n){"use strict";var r=n(1);t.exports=function(t){var e={init:[],preEmit:[],shouldEmit:[]},n=function t(n){var i={};return n.mixins&&n.mixins.forEach(function(e){r.extend(i,t(e))}),r.extend(i,n),Object.keys(e).forEach(function(t){n.hasOwnProperty(t)&&e[t].push(n[t])}),i}(t);return e.init.length>1&&(n.init=function(){var t=arguments;e.init.forEach(function(e){e.apply(this,t)},this)}),e.preEmit.length>1&&(n.preEmit=function(){return e.preEmit.reduce(function(t,e){var n=e.apply(this,t);return void 0===n?t:[n]}.bind(this),arguments)}),e.shouldEmit.length>1&&(n.shouldEmit=function(){var t=arguments;return!e.shouldEmit.some(function(e){return!e.apply(this,t)},this)}),Object.keys(e).forEach(function(t){1===e[t].length&&(n[t]=e[t][0])}),n}},function(t,e,n){var r=n(2),i=n(11),o=n(1);t.exports=function(t,e){return o.throwIf(void 0===e,"Reflux.connect() requires a key."),{getInitialState:function(){return o.isFunction(t.getInitialState)?o.object([e],[t.getInitialState()]):{}},componentDidMount:function(){var n=this;o.extend(n,r),this.listenTo(t,function(t){n.setState(o.object([e],[t]))})},componentWillUnmount:i.componentWillUnmount}}},function(t,e,n){var r=n(2),i=n(11),o=n(1);t.exports=function(t,e,n){return o.throwIf(o.isFunction(e),"Reflux.connectFilter() requires a key."),{getInitialState:function(){if(!o.isFunction(t.getInitialState))return{};var r=n.call(this,t.getInitialState());return void 0!==r?o.object([e],[r]):{}},componentDidMount:function(){var i=this;o.extend(this,r),this.listenTo(t,function(t){var r=n.call(i,t);i.setState(o.object([e],[r]))})},componentWillUnmount:i.componentWillUnmount}}},function(t,e,n){var r=n(2);t.exports=function(t,e,n){return{componentDidMount:function(){for(var i in r)if(this[i]!==r[i]){if(this[i])throw"Can't have other property '"+i+"' when using Reflux.listenTo!";this[i]=r[i]}this.listenTo(t,e,n)},componentWillUnmount:r.stopListeningToAll}}},function(t,e,n){var r=n(2);t.exports=function(t){return{componentDidMount:function(){for(var e in r)if(this[e]!==r[e]){if(this[e])throw"Can't have other property '"+e+"' when using Reflux.listenToMany!";this[e]=r[e]}this.listenToMany(t)},componentWillUnmount:r.stopListeningToAll}}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&e._extend(r,n),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),l(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function s(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function l(t,n,r){if(t.customInspect&&n&&M(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return b(i)||(i=l(t,i,r)),i}var o=c(t,n);if(o)return o;var s=Object.keys(n),g=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),S(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return u(n);if(0===s.length){if(M(n)){var v=n.name?": "+n.name:"";return t.stylize("[Function"+v+"]","special")}if(x(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(T(n))return t.stylize(Date.prototype.toString.call(n),"date");if(S(n))return u(n)}var y="",m=!1,k=["{","}"];if(d(n)&&(m=!0,k=["[","]"]),M(n)){y=" [Function"+(n.name?": "+n.name:"")+"]"}if(x(n)&&(y=" "+RegExp.prototype.toString.call(n)),T(n)&&(y=" "+Date.prototype.toUTCString.call(n)),S(n)&&(y=" "+u(n)),0===s.length&&(!m||0==n.length))return k[0]+y+k[1];if(r<0)return x(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var w;return w=m?h(t,n,r,g,s):s.map(function(e){return f(t,n,r,g,e,m)}),t.seen.pop(),p(w,y,k)}function c(t,e){if(w(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}function u(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)A(e,String(s))?o.push(f(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(f(t,e,n,r,i,!0))}),o}function f(t,e,n,r,i,o){var s,a,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),A(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=v(n)?l(t,c.value,null):l(t,c.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),w(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function p(t,e,n){var r=0;return t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function v(t){return null===t}function y(t){return null==t}function m(t){return"number"==typeof t}function b(t){return"string"==typeof t}function k(t){return"symbol"==typeof t}function w(t){return void 0===t}function x(t){return _(t)&&"[object RegExp]"===j(t)}function _(t){return"object"==typeof t&&null!==t}function T(t){return _(t)&&"[object Date]"===j(t)}function S(t){return _(t)&&("[object Error]"===j(t)||t instanceof Error)}function M(t){return"function"==typeof t}function E(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function j(t){return Object.prototype.toString.call(t)}function C(t){return t<10?"0"+t.toString(10):t.toString(10)}function O(){var t=new Date,e=[C(t.getHours()),C(t.getMinutes()),C(t.getSeconds())].join(":");return[t.getDate(),B[t.getMonth()],e].join(" ")}function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var I=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(t).replace(I,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),a=r[n];n<o;a=r[++n])v(a)||!_(a)?s+=" "+a:s+=" "+i(a);return s},e.deprecate=function(n,i){function o(){if(!s){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),s=!0}return n.apply(this,arguments)}if(w(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var s=!1;return o};var L,P={};e.debuglog=function(t){if(w(L)&&(L=n.i({NODE_ENV:production}).NODE_DEBUG||""),t=t.toUpperCase(),!P[t])if(new RegExp("\\b"+t+"\\b","i").test(L)){var i=r.pid;P[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,i,n)}}else P[t]=function(){};return P[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=g,e.isNull=v,e.isNullOrUndefined=y,e.isNumber=m,e.isString=b,e.isSymbol=k,e.isUndefined=w,e.isRegExp=x,e.isObject=_,e.isDate=T,e.isError=S,e.isFunction=M,e.isPrimitive=E,e.isBuffer=n(43);var B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",O(),e.format.apply(e,arguments))},e.inherits=n(42),e._extend=function(t,e){if(!e||!_(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,n(45),n(33))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n}])});